<div class="container">
    <form [formGroup]="nameForm">
        <div class="form-group">
            <label for="fname"> First Name</label>
            <input type="text" class="form-control" id="fname"
                   formControlName="fname"
                   name="fname" placeholder="First name">
            <span class="help-block"
                  *ngIf="!nameForm.get('fname').valid && nameForm.get('fname').touched">
                First Name is required</span>
        </div>
        <div class="form-group">
            <label for="lname"> Last Name</label>
            <input type="text" class="form-control"
                   id="lname" formControlName="lname"
                   name="lname" placeholder="Last name">
            <span class="help-block"
                  *ngIf="!nameForm.get('lname').valid && nameForm.get('lname').touched">
                Last Name is required</span>
        </div>
    </form>
    <form [formGroup]="emailForm">
        <h3 class="page-header"> Add Email</h3>
        <button type="button" (click)="addNewEmail()" class="btn btn-primary">Add Email</button>
        <br>
        <div formArrayName="emails">
            <div *ngFor="let email of emailForm.controls.emails.controls;
                let i=index" [formGroupName]="i">
                <h4>Email #{{ i + 1 }}</h4>
                <div class="form-group">
                    <label>Email Address</label>
                    <input formControlName="mail" class="form-control"
                           placeholder="ex@example.com">
                    <span class="help-block"
                          *ngIf="!emailForm.get('mail').valid && emailForm.get('mail').touched">
                Address is required</span>
                </div>
                <button *ngIf="emailForm.controls.emails.controls.length > 1"
                        (click)="deleteEmail(i)" class="btn btn-danger">Delete Email
                </button>
            </div>
        </div>
    </form>

    <form [formGroup]="addressForm">
        <h3 class="page-header"> Add Address</h3>
        <button type="button" (click)="addNewAddress()" class="btn btn-primary">Add Address</button>
        <br>
        <div formArrayName="address">
            <div *ngFor="let address of addressForm.controls.address.controls;
                let i=index" [formGroupName]="i">
                <h4>Address #{{ i + 1 }}</h4>
                <div class="form-group">
                    <label for="addrs" >Resi Address</label>
                    <input type="text" formControlName="addrs" class="form-control"
                           placeholder="Type your address" id="addrs" name="addrs">
                    <span class="help-block"
                       *ngIf="!addressForm.get('addrs').valid && addressForm.get('addrs').touched">
                Address is required</span>
                </div>
                <button *ngIf="addressForm.controls.address.controls.length > 1"
                        (click)="deleteAddress(i)" class="btn btn-danger">Delete Address
                </button>
            </div>
        </div>
    </form>
</div>